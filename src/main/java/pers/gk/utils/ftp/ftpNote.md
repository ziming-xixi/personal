## FTP的主动模式及被动模式<br>
两种连接模式
* 主动模式：服务端-->客户端<br>
　　　　　即：客户端告知服务端监听的端口，服务端开放该端口，并主动连接客户端。<br>
  优点：服务端配置简单，利于服务器安全管理，服务器只需要开放21端口。<br>
  缺点：客户端开启了防火墙，或客户端处于内网（NAT网关之后），那么服务器对客户端端口发起的连接可能会失败。
  
* 被动模式：客户端-->服务端<br>
　　　　　即：服务端开放某端口，客户端主动连接服务端开放的端口。<br>
  优点：对客户端网络环境没有要求。<br>
  缺点：服务器配置管理稍显复杂。
  
## FTP常见问题<br>
### FTP服务器编码格式问题
* FTP协议规定的编码为ISO-8859-1
* 需将含中文的目录或文件名的GBK或UTF-8编码，转为IS0-8859-1<br>

### FTPClient切换目录的注意事项<br>
1. 多级目录切换时，必须使用绝对路径<br>
2. 单级目录切换时，目录结尾的"/"是否存在，不影响单级目录切换<br>
3. 使用FTPClient时，注意当前工作目录的切换。<br>
   **默认工作目录的设置**<br>
   **FTPClient归还给连接池是，默认工作目录的设置**


### FTPClient创建目录的注意事项<br>
1. 推荐逐级创建目录。子目录前加"/"，子目录后加"/"，都不影响子目录的创建<br>
2. 多级创建目录时，父目录存在，单级子目录创建成功。<br>
   如：/test1/test2，父目录test1存在，子目录test2创建成功。
3. 多级创建目录时，父目录存在，多级子目录不能稳定创建成功。<br>
   如：/test1/test2/test3，父目录test1存在，子目录test2创建成功，孙子目录test3不一定创建成功。 
4. 目录名称不区分大小写，如：/test目录存在，创建/TEST或/TEst时失败。<br>
5. 创建目录时，结尾的"/"是否存在，不影响创建目录
6. FTP服务器目录分隔符：/，Windows和Linux系统一致。
